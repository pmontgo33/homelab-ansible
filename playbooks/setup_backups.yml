# $ ansible-playbook ./playbooks/setup_backups.yml -i ./inventory/hosts.yml

- hosts: server01
  become: yes
  tasks:
  
    - name: Copy backup.sh file with owner and permissions
      ansible.builtin.copy:
        src: templates/backup.sh
        dest: /home/pi
        owner: pi
        group: pi
        mode: '0777'
    - name: Ensure a job that runs backup.sh at 23:59 exists.
      ansible.builtin.cron:
        user: root
        name: "backups"
        minute: "59"
        hour: "23"
        job: "/home/pi/backups.sh"